[MODELS]
build_record = "search.models.BuildRecord"

[BUILD]
ES_HOSTS = ["128.192.184.4:9200"]
ES_INDICES = ["ctasks"]

INDEX_MAPPING = {
	"id": {
		"store": "yes",
		"index": "not_analyzed",
		"type": "string"
	},
	"title": {
		"boost": 1.0,
		"index": "analyzed",
		"store": "yes",
		"type": "string",
		"indexAnalyzer": "ik",
		"searchAnalyzer": "ik",
		"term_vector": "with_positions_offsets"
	},
	"url": {
		"store": "yes",
		"index": "not_analyzed",
		"type": "string"
	},
	"author": {
		"store": "yes",
		"index": "not_analyzed",
		"type": "string"
	},
	"content": {
		"boost": 1.0,
		"index": "analyzed",
		"store": "yes",
		"type": "string",
		"indexAnalyzer": "ik",
		"searchAnalyzer": "ik",
		"term_vector": "with_positions_offsets"
	},
	"column_created_date": {
		"store": "yes",
		"index": "not_analyzed",
		"type": "date"
	},
	"column_modified_date": {
		"store": "yes",
		"index": "not_analyzed",
		"type": "date"
	},
	"type": {
		"store": "yes",
		"index": "not_analyzed",
		"type": "string"
	}
}

BUILD_TABLES = [
    {
        "model": "forumpost",
        "name": "论坛",
        "translate": {
            "column_created_date": "created_on",
            "column_modified_date": "updated_on",
            "column_deleted": "deleted"
        },
        "build": {
            "index": "forumpost",
            "doc_type": "forumpost",
            "mapping": INDEX_MAPPING
        }
    },
    {
        "model": "wikipage",
        "name": "WIKI",
        "translate": {
            "column_created_date": "create_time",
            "column_modified_date": "modified_time",
            "column_enabled": "enabled",
            "column_deleted": "deleted"
        },
        "build": {
            "index": "wikipage",
            "doc_type": "wikipage",,
            "mapping": INDEX_MAPPING
        }
    },
    {
        "model": "question",
        "name": "问题",
        "translate": {
            "column_created_date": "submit_date",
            "column_modified_date": "column_modified_date",
            "column_deleted": "deleted"
        },
        "build": {
            "index": "question",
            "doc_type": "question",
            "mapping": INDEX_MAPPING
        }
    },
    {
        "model": "risk",
        "name": "风险",
        "translate": {
            "column_created_date": "submit_date",
            "column_modified_date": "column_modified_date",
            "column_deleted": "deleted"
        },
        "build": {
            "index": "risk",
            "doc_type": "risk",
            "mapping": INDEX_MAPPING
        }
    }
]
